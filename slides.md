
--- 
class: cover
---

# 最適化のすゝめ

---

## 目次

- 自己紹介
- 最適化とは
- 最適化によって得られる効果
- 最適化手法
- まとめ、これから

---

## おことわり

私はゲームプログラマを目指す人間なので、ゲーム開発に関連したことを多く話すと思います。  
が、何か学びは得られるはずなので、ぜひ抽象化して最適化の**カッコイイ概念**を持って帰ってください。

---

## 自己紹介

- 名前:Tongari-Boy
- 志望職種:ゲームプログラマ(コンシューマ向け)
- 趣味:もちろんゲーム、歴史(ゲーム、地理)
- 座右の銘:柳に飛びつく蛙  
    　　　　　　※要約すると、"努力し続けないと運が回ってこないよ"という意味です

---
class: quote
---

## 最適化とは

プロジェクトが**動くだけに飽き足らず、**  
プロジェクトや自分の将来へ投資する  
**崇高で巧妙なテクニック**

---

## 最適化によって得られる効果の例

| 効果 | 説明 |
|------|------|
| 可読性 | コードの理解が容易に |
| 高速化 | ロード時間の短縮 |
| 再利用 | 他プロジェクトで活用 |

---

## 最適化手法_設計

- ### オブジェクト指向プログラミング    
　->別のプロジェクト、オブジェクトで**再利用**ができる  
　　->機能がひとつのオブジェクトにまとまっているので、**読みやすい**  

- 責任分担(カプセル化など)  
　->キャラクタに操作やゲームルールを与えてはいけない  
　　->キャラクタ、コントローラ、ゲームルールの三つに分担  
　　　->コントローラは入力を受け付け、送るだけ、  
　　　　キャラクタは入力に応じた動きをするだけ、  
　　　　ゲームルールはキャラクタなどの状態をみるだけ。  
　　　　　->これによって別のコントローラ(物理的な)、別のキャラクタでも同じように遊べるなどの
　　　　　　**拡張性**が増す

---

## 最適化手法_プロジェクトを詳しく知る

- ### メモリ解放
    - 概要  
　メモリ管理(GCを含む)と呼ばれるもの  
　　->メモリのパンクを防ぐ  
    - メリット  
　　->概念を知っているだけで設計の幅が広がる  
　　　　->その場で無駄なリソースをロードしなくなる  
　　　　　->そのリソース本当に無駄なの？の見極めが必要  
    - デメリット  
　->何回も呼び出す処理だと、逆に呼び出しの方に余計な時間がかかる  
　　->プロジェクトの全体がわかってないと、時間がかかる

---

## もっと深い最適化手法_プログラム

- #### Tick(Update)は罠  
　->「毎フレーム考えなくていいこと」まで考えさせてしまう(超便利ではある)  
　　->1フレームの処理ばっかりだと負荷がかかる。  
　　　->ずっと受け付けるのではなく、イベントを用いた条件処理にしよう。

- #### 敢えて書く
    - コメントを書く  
    　　->いきなりやって来た人、未来の自分がみても分かるように  
　　->変数の名前の根拠は?  
　　->引数になにを指定しているのか  
　　　　　　　　　(韻を踏んでみました)  
    - マジックナンバーの廃止  
　　->キャラクタの歩くスピードは敢えて変数にする  
　　　->レベルデザイナに調整を任せる

---

## もっともっと深い最適化手法_プロジェクト、チーム

最適化への道はたくさんありますが、一番大事なことは  
**プロジェクトやチームの特性、ルールに合わせる**ことです。

例えば先程のTick処理はリアルタイム性を高く要求する  
FPSや格闘ゲームでは様々な点で必須の処理になります。

途中で最適化の路線に走り出す　->設計にまとまりがなくなる  
最初の部分も一緒に最適化　　　->設計書から変わってくる  
　　　　　　　　　　　　　　　　　->どうしても時間がかかる  

プロジェクトを良くしようとした結果、  
プロジェクトが壊れてしまったら、**本末転倒**

--- 

## 少し弱いけど、体験談をば

今は昔。あるところに、ずっと考えていたプロジェクトなんありけり。  
かのプロジェクト、.NET Maui使うと本格的になりけり。  
Unityのゲームと.NET Mauiのモバイルアプリ、さらにはASP.NETでそれらを同期通信したらこれは楽しい。
と私は考えました。  
しかし、この3つを同時に進めるとなると単純に開発にも学習にも時間がかかり、コンテストの提出期限に間に合いません。  
ああ、人が、時間があれば、、、  
　->結局間に合いはせず、一部機能のみ実装。  
　　　->それ、Unity一つで完結するよ(プラグインは使うけど)  
　　　　 ->嬉しい  

現代語訳:  
本格的(一般的)であると、仕事として使っているのだから、どうしても時間がかかることが多い。  
プロジェクトがその技術にマッチしているか一度考えてみよう。  
　->一般的でないということは、参考文献が少ないという罠もあります。

---

## 最適化の価値とは

- 時間をかけるに値する価値はあるのかどうか  
    プロジェクト、チームと要相談  

- 企業の最適化に対する姿勢はどれほどのものか  
    ボランティア程度なら悲しい(面接の逆質問で聞けてしまう)

---

## まとめ、これから

- 最適化手法はたくさんありますが、プロジェクトに合った手法を選びましょう。  
    一人よがりではなく、  
    協調性をもってプロジェクトを成功させることもまた最適化手法の一つです。  

- 今まではただ動くものを作ればいいという観点でプログラミングをしていましたが、  
    機能の追加や、プロジェクトの設計も視野に入れたとき、  
    最適化のカッコよさに見出され、ようやっと憧れたエンジニアへの第一歩が踏めそうです。

- 社会人になってからは最適化(特にロードを早くするところ)の専門家になりたい。

---

## ご清聴ありがとうございました。
これからも様々な角度からプロジェクトに取り組んでいきます。  
以上で発表を終わります。

<footer class="absolute bottom-0 left-0 p-2 text-xs text-gray-400 opacity-70">
  powered by slidev & github
</footer>